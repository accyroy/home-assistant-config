# test test test
homeassistant:
  # Name of the location where Home Assistant is running
  name: !secret homeassistant_name
  # Location required to calculate the time the sun rises and sets
  latitude: !secret homeassistant_lat
  longitude: !secret homeassistant_lon
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: !secret homeassistant_elevation
  # metric for Metric, imperial for Imperial
  unit_system: metric
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/London
  customize:
    #Fibaro Motion Node 4 Office
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_4_0:
      hidden: false
      friendly_name: Office PIR
      sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_4_0:
      hidden: true      
    sensor.fibaro_system_fgms001_motion_sensor_luminance_4_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_4_1:
      hidden: false
      friendly_name: Office Temp
    #Fibaro Motion Node 5 Ninas Room
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_5_0:
     hidden: false
     friendly_name: Ninas Room PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_5_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_5_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_5_1:
      hidden: false      
      friendly_name: Ninas Room Temp
     
    #Fibaro Motion Node 6 Kitchen
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_6_0:
     hidden: false
     friendly_name: Kitchen PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_6_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_6_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_6_1:
      hidden: false      
      friendly_name: Kitchen Temp     
      
    #Fibaro Motion Node 7 Roys Room
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_7_0:
     hidden: false
     friendly_name: Roys Room PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_7_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_7_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_7_1:
      hidden: false      
      friendly_name: Roys Room Temp      
 
    #Fibaro Motion Node 8 Bathroom
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_8_0:
     hidden: false
     friendly_name: Bathroom PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_8_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_8_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_8_1:
      hidden: false      
      friendly_name: Bathroom Temp
      
    #Fibaro Motion Node 11 Living Room
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_11_0:
     hidden: false
     friendly_name: Living Room PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_11_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_11_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_11_1:
      hidden: false      
      friendly_name: Living Room Temp      

    #Fibaro Motion Node 12 Conservatory
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_12_0:
     hidden: false
     friendly_name: Conservatory PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_12_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_12_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_12_1:
      hidden: false      
      friendly_name: Conservatory Temp

    #Fibaro Motion Node 13 Front Drive
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_13_0:
     hidden: false
     friendly_name: Front Drive PIR
     sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_13_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_13_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_13_1:
      hidden: false      
      friendly_name: Front Drive Temp
      
    #Fibaro Motion Node 16 Upstairs Hall
    binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_16_0:
      hidden: false
      friendly_name: Upstairs Hallway
      sensor_class: motion
    sensor.fibaro_system_fgms001_motion_sensor_general_16_0:
      hidden: true    
    sensor.fibaro_system_fgms001_motion_sensor_luminance_16_3:
      hidden: true
    sensor.fibaro_system_fgms001_motion_sensor_temperature_16_1:
      hidden: false      
      friendly_name: Upstairs Hallway Temp

 
    #Fibaro Dimmer Node 9 Living Room Main Lights
    light.fibaro_system_fgd212_dimmer_2_level_9_0:
      hidden: false
      friendly_name: Living Room Lights
      emulated_hue: true
      emulated_hue_name: "living room light"
    light.fibaro_system_fgd212_dimmer_2_level_9_0_2:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_9_6:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_9_6_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_level_9_1:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_type_9_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_energy_9_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_exporting_9_32:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_heat_9_7:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_9_4:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_9_8:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_management_9_11:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_sourcenodeid_9_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_system_9_12:
      hidden: true
 
    #Fibaro Dimmer Node 14 Downstairs Hall
    light.fibaro_system_fgd212_dimmer_2_level_14_0:
      hidden: false
      friendly_name: Downstairs Hall
      emulated_hue: true
      emulated_hue_name: "downstairs hall light"
    light.fibaro_system_fgd212_dimmer_2_level_14_0_2:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_14_6:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_14_6_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_level_14_1:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_type_14_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_energy_14_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_exporting_14_32:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_heat_14_7:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_14_4:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_14_8:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_management_14_11:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_sourcenodeid_14_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_system_14_12:
      hidden: true 

    #Fibaro Dimmer Node 17 Upstairs Hall
    light.fibaro_system_fgd212_dimmer_2_level_17_0:
      hidden: false
      friendly_name: Upstairs Hall
      emulated_hue: true
      emulated_hue_name: "upstairs hall light"
    light.fibaro_system_fgd212_dimmer_2_level_17_0_2:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_17_6:
      hidden: true
    light.fibaro_system_fgd212_dimmer_2_step_size_17_6_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_level_17_1:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_alarm_type_17_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_energy_17_0:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_exporting_17_32:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_heat_17_7:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_17_4:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_17_8:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_power_management_17_11:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_sourcenodeid_17_2:
      hidden: true
    sensor.fibaro_system_fgd212_dimmer_2_system_17_12:
      hidden: true 


    #Fibaro RGBW Node 15 Living Room Screen Surround
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0:
      hidden: true
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_2:
      hidden: false
      friendly_name: Cinema Surround
      emulated_hue: true
      emulated_hue_name: "cinema light"
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_3:    
      hidden: true
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_4:
      hidden: true
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_5:
      hidden: true
    light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_6:
      hidden: true
    sensor.fibaro_system_fgrgbwm441_rgbw_controller_energy_15_0:
      hidden: true
    sensor.fibaro_system_fgrgbwm441_rgbw_controller_exporting_15_32:
      hidden: true
    sensor.fibaro_system_fgrgbwm441_rgbw_controller_power_15_4:
      hidden: true
    sensor.fibaro_system_fgrgbwm441_rgbw_controller_power_15_8:
      hidden: true
    
    #Aeotec Motion Sensor Node 18 Downstairs Hall
    
    binary_sensor.aeotec_zw100_multisensor_6_sensor_18_0:
      friendly_name: Downstairs Hall PIR
    sensor.aeotec_zw100_multisensor_6_relative_humidity_18_5:
      friendly_name: Downstairs Hall Humidity
    sensor.aeotec_zw100_multisensor_6_temperature_18_1:
      friendly_name: Downstairs Hall Temperature
    
    
    light.office:
      emulated_hue: true
      emulated_hue_name: "office light"
    #Netatmo
    sensor.netatmo_indoor_co2:
      hidden: false
      friendly_name: Living Room CO2
    sensor.netatmo_indoor_humidity:
      hidden: false
      friendly_name: Living Room Humidity
    sensor.netatmo_indoor_noise:
      hidden: false
      friendly_name: Living Room Noise
    sensor.netatmo_indoor_pressure:
      hidden: false
      friendly_name: Living Room Pressure
    sensor.netatmo_indoor_temperature:
      hidden: false
      friendly_name: Living Room Net Temp
    sensor.netatmo_outdoor_humidity:
      hidden: false
      friendly_name: Outdoor Humidity
    sensor.netatmo_outdoor_temperature:
      hidden: false
      friendly_name: Outdoor Temp
    
    
    switch.everspring_se812_siren_switch_10_0:     
      hidden: false  
      friendly_name: Siren
    
    sensor.greenwave_powernode_1_port_energy_2_0:
      hidden: true
    sensor.greenwave_powernode_1_port_power_2_8:
      Hidden: false
      friendly_name: Clock Power
    sensor.greenwave_powernode_1_port_previous_reading_2_1:
      hidden: true
    sensor.greenwave_powernode_1_port_previous_reading_2_9:
      hidden: true
    switch.greenwave_powernode_1_port_switch_2_0:
      hidden: false
      friendly_name: Clock Monitor
      
    sensor.darthchickens:
      friendly_name: Xbox One
    
    
# Show links to resources in log and frontend
#introduction:

# Enables the frontend
frontend:

input_boolean: !include input_boolean.yaml
  
emulated_hue:
  host_ip: 192.168.1.131
  listen_port: 8300
  off_maps_to_on_domains:
    - script
    - scene
  expose_by_default: false
  exposed_domains:
    - light

http:
  # Uncomment this to add a password (recommended!)
  api_password: !secret http_api_password
  server_port: !secret http_server_port
  ssl_certificate: !secret http_ssl_certificate
  ssl_key: !secret http_ssl_key
  base_url: !secret http_base_url

group:
  
  default_view:
    view: yes
    entities:
     - group.livingroom
     - group.office
     - group.kitchen
     - group.conservatory
     - group.outside
     - group.bathroom
     - group.ninasroom
     - group.roysroom
     - group.upstairshall
     - group.downstairshall
     - group.outside

  alarm:
    name: Alarm
    view: yes
    entities:
      - alarm_control_panel.alarm
      - group.downstairsmotion
      - group.upstairsmotion


  downstairs:
    name: Downstairs
    view: yes
    entities:
      - group.livingroom
      - group.office
      - group.kitchen
      - group.conservatory
      - group.downstairshall
      - group.outside
      
      
  upstairs:
    name: Upstairs
    view: yes
    entities:
      - group.bathroom
      - group.ninasroom
      - group.roysroom
      - group.upstairshall

  livingroom:
    name: Living Room
    view: no
    entities:
      - light.fibaro_system_fgd212_dimmer_2_level_9_0
      - light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_2
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_11_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_11_0
#      - media_player.living_room
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_humidity
      - sensor.netatmo_indoor_co2
      - sensor.netatmo_indoor_noise
      - sensor.netatmo_indoor_pressure
      - sensor.darthchickens
      - sensor.xbox_status
      - climate.house
      
      
      
  office:
    name: Office
    view: no
    entities:
      - light.office
      - group.office_spots
      - light.desk_lamp
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_4_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_4_0
      - switch.greenwave_powernode_1_port_switch_2_0
      - sensor.greenwave_powernode_1_port_power_2_8
      
  office_spots:
    name: Office Spots
    view: no
    entities:
      - light.office_spot_clock
      - light.office_spot_wall
      - light.office_spot_desk

  kitchen:
    name: Kitchen
    view: no
    entities:
      - light.kitchen
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_6_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_6_0

  conservatory:
    name: Conservatory
    view: no
    entities:
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_12_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_12_0
      

  ninasroom:
    name: Ninas Room
    view: no
    entities:
      - light.ninas_room
#      - media_player.ninas_room
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_5_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_5_0
      - input_boolean.holiday_mode
      
      
  roysroom:
    name: Roys Room
    view: no
    entities:
      - light.roys_room
#      - media_player.roys_bedroom
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_7_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_7_0      



  bathroom:
    name: Bathroom
    view: no
    entities:
      - light.bathroom
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_8_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_8_0
      

  upstairshall:
    name: Upstairs Hall
    view: no
    entities:
      - light.fibaro_system_fgd212_dimmer_2_level_17_0
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_16_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_16_0
      

  downstairshall:
    name: Downstairs Hall
    view: no
    entities:
      - light.fibaro_system_fgd212_dimmer_2_level_14_0
      - binary_sensor.aeotec_zw100_multisensor_6_sensor_18_0
      - sensor.aeotec_zw100_multisensor_6_relative_humidity_18_5
      - sensor.aeotec_zw100_multisensor_6_temperature_18_1

      
      
      
      
  outside:
    name: Outside
    view: no
    entities:
      - light.front_drive
      - sensor.fibaro_system_fgms001_motion_sensor_temperature_13_1
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_13_0
      - sensor.netatmo_outdoor_temperature
      - sensor.netatmo_outdoor_humidity      
      
      
      
  unit:
    name: Unit
    view: yes
    entities:
      - sensor.unit_temperature
      - sensor.unit_humidity
      - sensor.unit_status

  lighting:
    name: Lighting
    entities:
      - light.bathroom
      - light.fibaro_system_fgd212_dimmer_2_level_9_0
      - light.fibaro_system_fgrgbwm441_rgbw_controller_level_15_0_2
      - light.kitchen
      - light.living_room
      - light.ninas_room
      - light.roys_room
      - light.office
      - light.fibaro_system_fgd212_dimmer_2_level_14_0
      - light.fibaro_system_fgd212_dimmer_2_level_17_0
      - light.front_drive


  downstairsmotion:
    name: Downstairs Motion
    entities:
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_11_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_12_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_4_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_6_0
  upstairsmotion:
    name: Upstairs Motion
    entities:
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_8_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_5_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_7_0
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor_16_0   
  housemotion:
    name: All Motion
    entities:
      - group.downstairsmotion
      - group.upstarsmotion

tts:
  - platform: google
    cache: true
    cache_dir: /tmp/tts
    time_memory: 300

# Checks for available updates
updater:

# Discover some devices automatically
discovery:

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time.
history:

# View all events in a logbook
logbook:

# Track the sun
sun:

netatmo:
  api_key: !secret netatmo_api_key
  secret_key: !secret netatmo_secret_key
  username: !secret netatmo_username
  password: !secret netatmo_password
  
notify:
  - name: email
    platform: smtp
    server: !secret smtp_server
    sender: !secret smtp_sender
    username: !secret smtp_username
    password: !secret smtp_password
    recipient: !secret smtp_recipient


sensor:
  - platform: yr
  - platform: mqtt
    name: "Unit Status"
    state_topic: "unit/status"
  - platform: mqtt
    name: "Unit Temperature"
    state_topic: "unit/temperature"
    unit_of_measurement: "°C"
  - platform: mqtt
    name: "Unit Humidity"
    state_topic: "unit/humidity"
    unit_of_measurement: "%"
  - platform: command_line
    name: Occasion
    command: "python3 /home/roy/.homeassistant/occasion.py" 
  - platform: xbox_live
    api_key: 495dde1dd513e5e82ad12a10bd556c801a000dfe
    xuid:
      - 2533274794698087
  - platform: template
    sensors:
      xbox_status:
        value_template: '{% if is_state("sensor.darthchickens", "Offline") %}Offline{% else %}{{ states.sensor.darthchickens.attributes["XboxOne Full"] }}{% endif %}'
        friendly_name: Xbox Status


binary_sensor:
  - platform: template
    sensors:
      unit_online:
        value_template: "{{ states.sensor.unit_status.state == 'online' }}"
        sensor_class: connectivity
        friendly_name: "Unit Status"
        
        
automation: !include_dir_list automation 

nest:
  client_id: !secret nest_username
  client_secret: !secret nest_password


climate:
  platform: nest
  
  
zwave:
  usb_path: /dev/zwave


scene:
  - name: Kitchen Fade On
    entities:
      light.kitchen_1:
        state: on
        transition: 1
        brightness: 255
      light.kitchen_2:
        state: on
        transition: 1
        brightness: 255
      light.kitchen_3:
        state: on
        transition: 1
        brightness: 255    
      light.kitchen_4:
        state: on
        transition: 1
        brightness: 255       
     
  - name: Bathroom Middle Of Night
    entities:
      light.bathroom_1:
        state: on
        transition: 10
        brightness: 50
      light.bathroom_2:
        state: on
        transition: 10
        brightness: 50
      light.bathroom_3:
        state: on
        transition: 10
        brightness: 50
      light.bathroom_4:
        state: on
        transition: 10
        brightness: 50
      light.bathroom_5:
        state: on
        transition: 10
        brightness: 50

  - name: Bathroom Normal
    entities:
      light.bathroom_1:
        state: on
        transition: 1
        brightness: 255
      light.bathroom_2:
        state: on
        transition: 1
        brightness: 255
      light.bathroom_3:
        state: on
        transition: 1
        brightness: 255
      light.bathroom_4:
        state: on
        transition: 1
        brightness: 255
      light.bathroom_5:
        state: on
        transition: 1
        brightness: 255

  - name: Nina Morning
    entities:
      light.ninas_room:
        state: on
        transition: 900
        brightness: 255

  - name: Nina Middle Of The Night
    entities:
      light.ninas_room:
        state: on
        transition: 1
        brightness: 10       

  - name: Nina Normal
    entities:
      light.ninas_room:
        state: on
        transition: 3
        brightness: 250 

  - name: Roy Morning
    entities:
      light.roys_room:
        state: on
        transition: 900
        brightness: 255  

  - name: Roy Middle Of The Night
    entities:
      light.roys_room:
        state: on
        transition: 1
        brightness: 10  

  - name: Roy Normal
    entities:
      light.roys_room:
        state: on
        transition: 3
        brightness: 250


  - name: Outside Front Normal
    entities:
      light.front_drive:
        state: on
        transition: 3
        brightness: 250

mqtt:
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  username: !secret mqtt_username
  password: !secret mqtt_password
  birth_message:
    topic: 'home/status'
    payload: 'online'
    qos: 1
    retain: true
  will_message:
    topic: 'home/status'
    payload: 'offline'
    qos: 1
    retain: true

alarm_control_panel:
  - platform: manual
    name: Alarm
    code: !secret alarm_control_panel_code
    pending_time: 10
    trigger_time: 10


device_tracker:
  - platform: owntracks
    max_gps_accuracy: 200

zone:
  name: School
  latitude: !secret zone_lat
  longitude: !secret zone_lon
  radius: 200
  icon: mdi:school
zone 2:
  name: Unit
  latitude: !secret zone2_lat
  longitude: !secret zone2_lon
  radius: 100
  icon: mdi:factory
zone 3:
  name: Home
  latitude: !secret zone3_lat
  longitude: !secret zone3_lon
  radius: 100
  icon: mdi:home-variant
 
zone 4:
  name: Castle
  latitude: !secret zone4_lat
  longitude: !secret zone4_lon
  radius: 75
  icon: mdi:beer


# Example configuration.yaml entry
alexa:
  intents:
    WhereAreWeIntent:
      speech:
        type: plaintext
        text: >
          {%- if is_state('device_tracker.roy_thephone', 'home') and
                 is_state('device_tracker.nina_iphone', 'home') -%}
            You are both home, you silly billy
          {%- else -%}
            Roy is at {{ states("device_tracker.roy_thephone") }}
            Nina is at {{ states("device_tracker.nina_iphone") }}
          {% endif %}

    LocateIntent:
#      action:
#        service: notify.notify
#        data_template:
#          message: The location of {{ User }} has been queried via Alexa.
      speech:
        type: plaintext
        text: >
          {%- for state in states.device_tracker -%}
            {%- if state.name.lower() == User.lower() -%}
              {{ state.name }} is at {{ state.state }}
            {%- endif -%}
          {%- else -%}
            I am sorry, I do not know where {{ User }} is.
          {%- endfor -%}
      card:
        type: simple
        title: Sample title
        content: Some more content
